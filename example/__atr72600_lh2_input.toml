["Aircraft Description"]
    name = "Regional Aircraft TASOPT Model"
    description = """
    This model file describes a basic single-aisle regional aircraft.
    """
    aircraft_type   = "Regional Aircraft"   # 0: Regional Aircraft
                                        # 1: Narrow Body Aircraft
                                        # 2: Wide Body Aircraft


#-------------------------------------------------#
##               Note on units                   ##
#-------------------------------------------------#
# TASOPT input files can parse the following units.
#  if no units are provided or pure numerical values are
#  provided then they are assumed to be in SI units.
# ╔══════════╦══════════╦══════════════════════════╗
# ║ Quantity ║ SI units ║ Other allowed units      ║
# ╠══════════╬══════════╬═════╦═══════╦═══════╦════╣
# ║ mass     ║ kg       ║ g   ║ lbm   ║       ║    ║
# ╠══════════╬══════════╬═════╬═══════╬═══════╬════╣
# ║ distance ║ m        ║ km  ║ nmi   ║ ft    ║ in ║
# ╠══════════╬══════════╬═════╬═══════╬═══════╬════╣
# ║ area     ║ m2       ║     ║       ║ ft2   ║ in2║
# ╠══════════╬══════════╬═════╬═══════╬═══════╬════╣
# ║ volume   ║ m3       ║     ║       ║ ft3   ║ in3║
# ╠══════════╬══════════╬═════╬═══════╬═══════╬════╣
# ║ force    ║ N        ║ kN  ║ lbf   ║       ║    ║
# ╠══════════╬══════════╬═════╬═══════╬═══════╬════╣
# ║ pressure ║ Pa       ║ atm ║lbf/in2║lbf/ft2║ psi║    
# ╠══════════╬══════════╬═════╬═══════╬═══════╬════╣
# ║ speed    ║ m/s      ║ kts ║ km/hr ║ ft/s  ║    ║
# ╠══════════╬══════════╬═════╬═══════╬═══════╬════╣
# ║ power    ║ W        ║ kW  ║ MW    ║ hp    ║    ║
# ╠══════════╬══════════╬═════╬═══════╬═══════╬════╣
# ║ angle    ║ rad      ║ deg ║       ║       ║    ║
# ╚══════════╩══════════╩═════╩═══════╩═══════╩════╝

[Options] #
    engine_location = "wing" # 1: Engines on "wing"
                             # 2: Engines on "fuselage"

    prop_sys_arch = "TF"  #Options are TF: Turbofan NILS (not true but only GT implemented in TASOPT.jl)
                         #            TE: Turbo-electric
[Fuel]
    fuel_type       = "LH2"  # Choices are "Jet-A", "LH2" and "CH4"
    fuel_in_wing    = false # Is fuel stored in wings?
    fuel_in_wingcen = false # Is fuel stored in wing center box? NILS (see link in https://www.reddit.com/r/aviation/comments/16e6xxx/where_is_the_fuel_stored_on_high_wing_turboprop/)
    fuel_usability_factor = 0.90 # fraction of max fuel volume that is usable

    fuel_temp = 280.0
    fuel_density = 817.0 #kg/m3
    fuel_enthalpy_vaporization = 0.0 #J/kg, latent heat of vaporization of fuel

#Aircraft fuselage fuel storage parameters for cryogenic fuels
#Default aircraft does not have a fuselage tank. See cryo_input.toml for template w/ representative values
#Retained for compatibility as a default with cryo designs
[Fuel.Storage]  #  Nils: identical to cryo_input.toml
    tank_placement = "rear" #Location of tank in fuselage. Choices are "front", "rear", or "both".

    tank_aspect_ratio = 2.0
    fuselage_clearance = "0.1 ft" # "0.3 ft"
    additional_mass_fraction = 0.0 # 0.25
    weld_efficiency = 1.0 # 0.9 
    ullage_fraction = 0.0 # 0.05 #minimum ullage fraction at tank venting pressure
    heat_leak_factor = 1.0 # 1.3 #Factor to account for heat leakage through structural elements, piping, etc (qfac > 1)

    #Tank pressure design parameters
    pressure_rise_factor = 1.0 # 2.0 #Factor to account for stratification in homogenous tank model (pfac >= 1)
    pressure_venting = "1 atm" # "2 atm"
    pressure_initial = "1 atm" # "1.2 atm"
    hold_departure = "0 h"
    hold_arrival = "0 h"

    inner_vessel_material = "TASOPT-Al" # "Al-2219-T87"
    inner_vessel_support_angle = "80 deg"
    
    #Insulation options: "rohacell41S", "polyurethane27", "polyurethane32", "polyurethane35", "vacuum", "mylar", "microspheres"
    sizes_insulation = false #Flag to decide whether to size insulation for boiloff
    insulation_material = ["polyurethane32", "polyurethane32", "polyurethane32"] 
    insulation_segment_base_thickness = [0.05, 0.05, 0.05] #m
    
    cruise_boiloff_rate = 0.0 # 0.4 #%/hour, used if sizes_insulation == true
    insulation_thicknesses_design_indices = [1,2,3] #insulation segments to size if sizes_insulation == true

    #Parameters for double-walled tank, if "vacuum" is in insulation_material
    outer_vessel_material = "TASOPT-Al" # "Al-2219-T87"
    # outer_vessel_support_angles = ["45 deg", "135 deg"]
    outer_vessel_support_angles = ["90 deg", "90 deg"]

[Mission]
    N_missions = 1 # Number of missions to be modeled (first mission is the design mission)
    payload = ["30 pax"]    # Mission payload; pax can be used as a unit of weight.
                            # Weight per pax also specified (215 lbf/pax is std)
                            # NILS (reduced from 78 pax by factor 189/230 from default_cryo.toml/default_input.toml, then rounded to next multiple of 4)
    exit_limit = 30            # Maximum number of passengers that can sit in the cabin
                               # NILS (reduced from 78 pax by factor 189/230 from default_cryo.toml/default_input.toml, then rounded to next multiple of 4)

    max_payload = "30 pax"     # Defines the maximum payload carrying capacity of the aircraft
                                # It is the maximum payload that the aircraft can carry (including cargo),
                                # in an off-design mission
                                # NILS (reduced from 78 pax by factor 189/230 from default_cryo.toml/default_input.toml, then rounded to next multiple of 4)
    
    range = "390.0 nmi" # "890.0 nmi"
    # Design Range + second mission range           
    weight_per_pax = "949.5576923076924 N" # Specify weight per passenger - 
                            # includes luggage [lbm or lbf or kg or N] 

    fuel_reserves = 0.05 # W_reserveFuel / W_fuelburned

    Nlift = 3.75 # Max vertical load factor for wing bending loads
    Vne = "250 kts" # Never exceed ac for tail loads

[Mission.Takeoff]
    takeoff_alt = "0 ft"
    takeoff_T = 288.2

    max_balanced_field_length = "4701 ft" # NILS (https://www.aircraftcostcalculator.com/AircraftOperatingCosts/477/ATR+72-600)
    Nland = 6.0 # Max vertical load factor for fuse bending loads

    CL_max_perp     = 2.2  #CLmax/(cos(sweep))^2
    CD_dead_engine  = 0.50  #CDA_fan/ A_fan NILS (default value in lack of better estimate)
    CD_landing_gear = 0.015 #CD*Agear/ Sref NILS (default value in lack of better estimate)
    CD_spoilers     = 0.10  #CD*Aspoiler/ Sref NILS (default value in lack of better estimate)

    rolling_resistance_coeff = 0.025 # NILS (default value in lack of better estimate)
    braking_resistance_coeff = 0.35 # NILS (default value in lack of better estimate)

    takeoff_obstacle_height = "35 ft"

[Mission.Climb]
    minimum_top-of-climb_gradient = 0.015

[Mission.Cruise]
    cruise_alt  = "20000 ft"
    cruise_mach = 0.43
    cruise_CL   = 0.6132537796908896

[Mission.Descent]
    descent_angle_top-of-descent = "-2.5 deg"
    descent_angle_bottom-of-descent = "-3.0 deg"

[Fuselage]
    cabin_pressure_altitude = "6000.0 ft" # NILS (https://www.reddit.com/r/aviation/comments/1kedapy/atr_pressurization_in_steps/)
    V_fcs_fuselage = 0.0
    l_fcs_fuselage = 0.0
    fcs_fuselage_location = 1.0

[Fuselage.Geometry]
    number_of_bubbles = 1  # SingleBubble or MultiBubble Designs
    radius = "1.385 m" # "1.7987012987012987 m"       # Fuselage radius NILS (increased from 1.385 m in by factor 100/77 from default_cryo.toml/default_input.tonl)
    dRadius = "0 m"      # Downward shift of lower bubbles
    y_offset = 0.0         # y offset of bubble center NILS (assume fully circular - not true as saw from CAD model)
    floor_depth = "6.0 in" # depth of floor beams NILS (default value in absence of better estimate)
    Nwebs = 0              # number of webs (for double bubble designs)

    a_nose = 1.6 # Nose radius = Rfuse*(1 - xi^a_nose)^(1/a_nose) NILS (ATR_72.py)
    b_tail = 2 # Tail radius = Rfuse*(1 - xi^b_tail) NILS (ATR_72.py)
    tailcone_taper = 0.3 # NILS (default value in absence of better estimate)
    tapers_to = "point" # Options are "point" or "edge"
    
    # Tail load fuselage bending moment inertial relief factor
    HT_load_fuse_bend_relief = 0.4
    VT_load_fuse_bend_relief = 0.7
# Overall fuselage layout
    #Use provided layout (false) or recalculate it (true) for maximum pax keeping deltas
    calculate_cabin_length = true # NILS (will set this to true so can vary fuselage geometry, but should be set to false for verification)

    double_decker   = false #if true, the fuselage has two passenger decks
    floor_distance  = "0 in" #Vertical distance between floors if double decker
    seat_pitch      = "29 in" # NILS (ac_data_ATR72.py)
    seat_width      = "18 in" # NILS (ATR_Fiche72-600-3)
    seat_height     = "45 in" # NILS (default value in absence of better estimate)
    aisle_halfwidth = "9 in" # NILS (ATR_Fiche72-600-3)
    front_seat_offset = "10 ft" #Distance from front of cabin to first seat NILS (default value in absence of better estimate)
    rear_seat_offset = "5 ft" #Distance from last seat to rear of cabin NILS (default value in absence of better estimate)

    #Provided layout
    x_nose_tip           = "0 ft"
    x_pressure_shell_fwd = "3.375147531 m" # NILS (ATR_72.py)
    x_start_cylinder     = "2.765547531 m"
    x_end_cylinder       = "17.92 m"
    x_pressure_shell_aft = "19.748800000000003 m"
    x_cone_end           = "24.072000000000003 m"
    x_end                = "27.12 m"
    theta_floor = 0.0
    unit_load_device = "LD3" # NILS (CARGO COMPARTMENT SIZING TO BE REVIEWED - NOT UNDER CABIN FLOOR!)
    
# Power systems and landing gear locations
    x_HPE_sys = "10.77 m" #Hydraulic, Pneumatic and Electrical systems NILS (Factsheets_-_ATR_72-600)

    x_APU = 0.0 # NILS (ATRs don't have an APU - see https://www.airliners.net/forum/viewtopic.php?t=225303)

    x_fixed_weight = "7ft" #Cockpit/ pilots etc NILS (default value in absence of better estimate)

# Engine positions
    x_engines = "9.215870151712776 m" # NILS (measure from Factsheets_-_ATR_72-600)
    y_critical_engines = "4.05 m" # y location of engines that would cause max yaw here NILS (Factsheets_-_ATR_72-600)

[Fuselage.Weights]
    stringer = 0.35   # (Weight of stringers)/ Wskin
    frame    = 0.25   # (Weight of frame)/ Wskin
    additional = 0.20 # (Additional weight)/ Wskin

    fixed_weight = "3000 lbf" #cockpit, pilots etc NILS (default value in absence of better estimate)

    window_per_length     = 435.0 #[N/m] NILS (default value in absence of better estimate)
    window_insul_per_area = 22.0  #[N/m2] NILS (default value in absence of better estimate)
    floor_weight_per_area = 60.0  #[N/m2] NILS (default value in absence of better estimate)

    HPE_sys_weight_fraction = 0.010 # W_HPEsys/WMTO NILS (default value in absence of better estimate)

    APU_weight_fraction = 0.0 # W_APU/W_payload NILS (ATRs don't have an APU - see https://www.airliners.net/forum/viewtopic.php?t=225303)
    seat_weight_fraction = 0.10 # Wseats/W_payload NILS (default value in absence of better estimate)
    add_payload_weight_fraction = 0.35 # Additional payload proportional Wfrac NILS (default value in absence of better estimate)

    engine_point_load = 0.0  # added by Nils

[Fuselage.Aero]
    fuse_moment_volume_deriv = "1450.0 ft3" # d(Mfuse/q)/dCL
    CL_zero_fuse_moment      = 0.185         # CL when Mfuse = 0
    #Fuselage velocity overspeed at wing
    wingroot_fuse_overspeed  = 0.0125
    wingbreak_fuse_overspeed = 0.01
    wingtip_fuse_overspeed   = 0.003

    excrescence_drag_factor = 1.1 # Rivets, sheet breaks etc

    BLI_frac = 0.0 #Fraction of fuselage BL KE defect ingested

[Wing]
    has_strut = false

    sweep = 0.0 # wing sweep in degrees
    AR    = 12
    maxSpan = "36 m" # NILS (span is 27.05 m, set maximum allowable span to 36 m for ICAO Aerodrome Reference Code C - see https://skybrary.aero/articles/icao-aerodrome-reference-code)

    inner_panel_taper_ratio = 0.9819752159218927  #cs/co NILS (measured from OnShape CAD model)
    outer_panel_taper_ratio = 0.5506692160611854 #ct/co NILS (measured from OnShape CAD model)

    panel_break_location = 0.299445471349353 # eta_s panel break eta location. eta = y/b NILS (same as y_critical_engines)
    
    center_box_halfspan = "1.6122516556291393 m" # NILS (measured from Factsheets_-_ATR_72-600)
    box_width_to_chord = 0.5208411565903117 #  NILS (measured from OnShape CAD model)
    root_thickness_to_chord = 0.12 # NILS (ATR_72.py)
    spanbreak_thickness_to_chord = 0.12 # NILS (ATR_72.py)

    hweb_to_hbox = 0.75 #web-height/hbox ratio NILS (default value in absence of better estimate)
    spar_box_x_c = 0.40 # spar box axis x/c location NILS (default value in absence of better estimate)

    x_wing_box = "12.102735532367682 m" # NILS (measured from Factsheets_-_ATR_72-600)
    z_wing  = "1.385 m" # "3.4753486890789365 m" # NILS (measured from Factsheets_-_ATR_72-600)
    z_strut = 0.0 #Note only used if `has_strut = true` CHECK NILS (has no strut)

    #Only used if `has_strut == true`:
    strut_toc = 0.0 #strut thickness to chord NILS (has no strut)
    strut_local_velocity_ratio = 1.0 # V_strut/V_freestream NILS (has no strut)

    # Airfoil data (Should be stored in src/airfoil_data/)
    airfoil = "C.air" # NILS: keep this airfoil family for now, although the "Cl.air" family (see src/airfoil_data/README) may be more suitable for non-transonic wings
    TR_scale = 1.0
    tdivc_scale = 1.0

[Wing.Aero]
    fuselage_lift_carryover_loss_factor = -0.3
    wing_tip_lift_rolloff_factor        = -0.05

    lowspeed_cdf = 0.0085
    lowspeed_cdp = 0.0035
    Re_ref       = 20e6

    #Only used if strut present
    strut_lowspeed_cdf = 0.0085
    strut_lowspeed_cdp = 0.0035
    strut_Re_ref       = 1e6

    Reynolds_scaling = -0.15 # = aRe, used for Re-scaling CD = cd*(Re/Re_ref)^aRe

    excrescence_drag_factor = 1.08 # Rivets, sheet breaks etc

    BLI_frac = 0.0 #Fraction of wing BL KE defect ingested

# Spanwise cl and cm distributions:
[Wing.Aero.Takeoff]
    cls_clo = 1.1 #rcls = break/root cl ratio = cls/clo
    clt_clo = 0.6 #rclt = tip  /root cl ratio = clt/clo
    cm_o = -0.20 # root section cm
    cm_s = -0.20 # span-break section cm
    cm_t = -0.02 # tip section cm

[Wing.Aero.Climb] #used for all clean situations
    cls_clo = 1.3 #rcls = break/root cl ratio = cls/clo
    clt_clo = 1.25 #rclt = tip  /root cl ratio = clt/clo
    cm_o = -0.06 # root section cm
    cm_s = -0.06 # span-break section cm
    cm_t = -0.06 # tip section cm

[Wing.Aero.Landing] #Forward-CG tail sizing case
    cls_clo = 1.1 #rcls = break/root cl ratio = cls/clo
    clt_clo = 0.5 #rclt = tip  /root cl ratio = clt/clo
    cm_o = -0.35 # root section cm
    cm_s = -0.35 # span-break section cm
    cm_t = -0.15 # tip section cm

[Wing.Weightfracs]
    # Weight fractions of flight surfaces and secondary wing components
    # as fractions of the sturctural wing box weight
    flap = 0.2 #flaps, flap mounts and actuators weight fraction
    slat = 0.1 #slats, slat mounts and actuators weight fraction
    aileron = 0.04 #ailerons, aileron mounts and actuators weight fraction
    leading_trailing_edge = 0.1
    ribs = 0.15        # Ribs, local stiffeners, reinforcements
    spoilers = 0.020   # Spoilers, spolier mounts and attachements
    attachments = 0.03 # Wing attachment hardware



[Stabilizers]

    #Tail profile drags:
    lowspeed_cdf = 0.0060
    lowspeed_cdp = 0.0030
    Re_ref       = 10e6

    excrescence_drag_factor = 1.08 # Rivets, sheet breaks etc

    [Stabilizers.Htail]
        multi_section = false # True for inner and outer section
        AR_Htail = 6 # NILS (page 96 of medium_project_2008_ATR72_nita)
        taper = 0.6 # NILS (page 96 of medium_project_2008_ATR72_nita)
        sweep = 6.0 #typically can be set to be the same as the wings NILS (page 96 of medium_project_2008_ATR72_nita)
        center_box_halfspan = "0.23285545678503516 m" # NILS (measured from Factsheets_-_ATR_72-600)
        x_Htail = "24.6868484073591 m" # NILS (measured from Factsheets_-_ATR_72-600)
        z_Htail = "4.645736532499041 m" # "6.736085221577977 m" # NILS (measured from Factsheets_-_ATR_72-600)
        number_Htails = 2.0

        max_tail_download = -0.5 # = CLh/CLmax. Tail download param at max load case.
        
        # How do you want to size the horizontal stabilizers?
        opt_sizing = "CLmax_fwdCG" # Options are "fixed_Vh" or "CLmax_fwdCG" 
        # 1: set Sh via specified Vh
        # 2: set Sh via CLhCGfwd at max-forward CG during landing
        Vh = 0.0 # Horizontal tail volume (only used if opt_sizing == "fixed_Vh") NILS (no used since opt_sizing = "CLmax_fwdCG")
        CLh_at_max_forward_CG = -0.6 # (only used if opt_sizing == "CLmax_fwdCG")

        opt_move_wing = "min_static_margin" # "fixed": "fix" wing position 
                            # "fixed_CLh": move wing to get CLh="CLhspec" in cruise 
                            # "min_static_margin": move wing to get min static margin = "SMmin"

        SM_min = 0.15 # Minimum static margin
        CLh_spec = -0.02

        downwash_factor = 0.55 #dε/dα
        nacelle_lift_curve_slope = 3.8 #dCL_nacelle/dα
                                       # Recommend ~3.8 for wing mounted nacelle
                                       #           ~0.0 for rear mounted nacelle
        CD_Htail_from_center = 0.1 #CDhtail contribution factor from center part 0 < y < yoh
        CLh_max = 2.0

        added_weight_fraction = 0.30 # e.g. ribs, LE, elevator, attachments

        box_width_to_chord = 0.50
        box_height_chord = 0.12
        web_height_hbox  = 0.75

    [Stabilizers.Vtail]
        AR_Vtail = 1.6 # NILS (page 96 of medium_project_2008_ATR72_nita)
        taper = 0.6 # NILS (page 96 of medium_project_2008_ATR72_nita)
        sweep = 25.0 # NILS (page 96 of medium_project_2008_ATR72_nita)
        center_box_halfspan = 0.0 # NILS (inapplicable to vertical tailplane)
        x_Vtail = "22.761572149378733 m" # NILS (measured from Factsheets_-_ATR_72-600)
        number_Vtails = 1.0

        # How do you want to size the vertical stabilizer?
        opt_sizing = "fixed_Vv" # Options are "fixed_Vv" or "OEI"
        # "fixed_Vv": set Vtail area Sv via specified Vv
        # "OEI": set Vtail area Sv via engine-out trim CL "CLv_at_engine_out"
        Vv = 0.119 # only used if opt_sizing == "fixed_Vv" NILS (page 97 in medium_project_2008_ATR72_nita)
        CLv_at_engine_out = 0.5 # only used if opt_sizing == "OEI"
        CLv_max = 2.6

        added_weight_fraction = 0.40 # e.g. ribs, LE, rudder, attachments

        box_width_to_chord = 0.50
        box_height_chord = 0.12
        web_height_hbox  = 0.75

[LandingGear]
    landing_gear_model = "mass_fractions" #Options are "mass_fractions" and "historical_correlations"
    x_nose_landing_gear        = "1.7394855838539165 m"
    x_main_landing_gear_offset = "1 ft" # main LG offset behind the rearmost CG position

    #For "mass_fractions" model
    LG_nose_weight_fraction = 0.007490652173913043 # Wlgnose/WMTO NILS (calculated from Table 10.1 in medium_project_2008_ATR72_nita and MTOM of 23000 kg)
    LG_main_weight_fraction = 0.034219304347826086 # Wlgmain/WMTO NILS (calculated from Table 10.1 in medium_project_2008_ATR72_nita and MTOM of 23000 kg)

    #For "historical_correlations" model
    y_main_landing_gear_halfspan_fraction = 0.0 # eta landing gear location. eta = y/(b/2) NILS (inapplicable as "mass_fractions" model is used)
    tailstrike_angle = 0.0 # NILS (inapplicable as "mass_fractions" model is used)
    wing_dihedral_angle = 0.0 # NILS (inapplicable as "mass_fractions" model is used)
    engine_ground_clearance = 0.0 # NILS (inapplicable as "mass_fractions" model is used)
    LG_nose_number_struts = 0 # NILS (inapplicable as "mass_fractions" model is used)
    LG_nose_wheels_per_strut = 0 # NILS (inapplicable as "mass_fractions" model is used)
    LG_main_number_struts = 0 # NILS (inapplicable as "mass_fractions" model is used)
    LG_main_wheels_per_strut = 0 # NILS (inapplicable as "mass_fractions" model is used)


[Structures]
    stress_factor = 1.0 # convenient factor to multiply all stress below

    # Allowable stresses at sizing cases:
    caps_material = "TASOPT-Al"
    caps_max_avg_stress = 1.1
    caps_safety_factor = 1.5
    # the sigma_max works out to be roughly 30e3 lbf/in2
    
    webs_material = "TASOPT-Al"
    webs_max_avg_stress = 1.1
    webs_safety_factor = 1.5
    # the sigma_max works out to be roughly 30e3 lbf/in2
    
    ## Fuselage pressurization skin stress and bending skin+stringer stress
    skin_material = "TASOPT-Al"
    skin_max_avg_stress = 1.1
    skin_safety_factor = 3.0
    # the sigma_max works out to be roughly 15e3 lbf/in2
    
    bending_material = "TASOPT-Al"
    bending_max_avg_stress = 1.1
    bending_safety_factor = 1.5
    # the sigma_max works out to be roughly 30e3 lbf/in2

    cone_material = "TASOPT-Al"
    cone_max_avg_stress = 1.1
    cone_safety_factor = 2.0

    floor_material = "TASOPT-Al"
    floor_max_avg_stress = 1.1
    floor_safety_factor = 1.5

    ## Wing and tail bending and shear stresses
    sigma_caps    = "30e3 lbf/in2"
    sigma_struts  = "30e3 lbf/in2"
    tau_webs = "20e3 lbf/in2"

    fuse_shell_modulus_ratio = 1.0 # Ebend/Eskin

    E_wing_spar_cap = "10e6 lbf/in2"
    E_struts        = "10e6 lbf/in2"

    # Material densities (Aluminium)
    wing_tail_cap_density = 2700.0
    wing_tail_web_density = 2700.0
    strut_density = 2700.0

[Propulsion]

    number_of_engines = 2
    T_max_metal = 1250.0

    Tt4_takeoff = 1541.7
    Tt4_frac_bottom_of_climb = 0.2
    Tt4_frac_top_of_climb = 0.2
    Tt4_cruise = 1326.6

    # Core in clean flow or does core ingests KE defect?
    core_in_clean_flow = true
    V_fcs_nacelle = 0.0

[Propulsion.Turbomachinery]

    BPR = 5.0
    gear_ratio = 1.0 #Fan gear ratio. 1 => direct drive turbofan

    OPR    = 28.0
    Fan_PR = 1.6
    LPC_PR = 8.0
    
    diffuser_PR    = 0.995
    burner_PR      = 0.94
    fan_nozzle_PR  = 0.98
    core_nozzle_PR = 0.995

    fan_eta_poly = 0.9
    LPC_eta_poly = 0.89
    HPC_eta_poly = 0.88
    HPT_eta_poly = 0.9
    LPT_eta_poly = 0.9

    HTR_fan = 0.30
    HTR_LPC = 0.60
    HTR_HPC = 0.80

    M2  = 0.60
    M25 = 0.60

    low_spool_loss  = 0.01
    high_spool_loss = 0.022

[Propulsion.Combustor]
    combustion_efficiency = 0.985

[Propulsion.Cooling]
    hot_streak_T_allowance = 200.0
    M_turbine_blade_exit = 1.0
    St = 0.09 # area-weighted effective Stanton number
    e_film_cooling = 0.70 #blade-to-cooling flow heat transfer eff
    t_film_cooling = 0.30 #cooling-film effectiveness factor
    M41 = 0.9 # Mach number at start of cooling-air mixing zone
    cooling_air_V_ratio = 0.3 #v_cool/v_edge velocity ratio of exiting cooling air
    HPT_efficiency_derivative_with_cooling = 0.0
    baseline_cooling_fraction = 0.0

[Propulsion.Offtakes]
    LPC_mass_offtake_per_pax = 0.008
    LPC_mass_offtake_per_max_mass = 0.0000085

    Low_spool_power_offtake_per_pax = 200.0
    Low_spool_power_offtake_per_max_mass = 0.5

    Tt_offtake_air = 300.0
    Pt_offtake_air = 30000.0

[Propulsion.Nozzles]
#Nozzle area factors relative to cruise design_area

    fan_nozzle_area.static       = 1.0
    fan_nozzle_area.rotation     = 1.0
    fan_nozzle_area.cutback      = 1.0
    fan_nozzle_area.climbstart   = 1.0
    fan_nozzle_area.climbend     = 1.0
    fan_nozzle_area.descentstart = 1.0
    fan_nozzle_area.descentend   = 1.0

    core_nozzle_area.static       = 1.0
    core_nozzle_area.rotation     = 1.0
    core_nozzle_area.cutback      = 1.0
    core_nozzle_area.climbstart   = 1.0
    core_nozzle_area.climbend     = 1.0
    core_nozzle_area.descentstart = 1.0
    core_nozzle_area.descentend   = 1.0


[Propulsion.Nacelles]
    nacelle_pylon_wetted_area_ratio = 16.0 # = rSnace = wetted area/fan area
    nacelle_local_velocity_ratio = 1.02 # local/freestream velocity
    
[Propulsion.Weight]
    engine_access_weight_fraction = 0.10 # feadd    Weadd/Wbare   engine accessories, fuel system fraction 
    pylon_weight_fraction = 0.10  # fpylon   Wpylon/We+a+n engine pylon weight fraction   
    weight_model = "fitzgerald_basic"    #Options are "MD": Mark Drela's original model
                                    #   "fitzgerald_basic": NF's new model with basic tech
                                    #     "fitzgerald_adv": NF's new model with advanced tech

    engine_point_load = 0.0  # added by Nils

#Default model does not have heat exchangers in the propulsion system
#See cryo_input.toml for template with representative values
#Retained for compatibility as a default with HX designs
[Propulsion.HeatExchangers] #Default model does not have heat exchangers in the propulsion system (Nils: identical to cryo_input.toml)
    has_recirculation = true
    recirculation_temperature = "200 K"
    maximum_heat_exchanger_length = "0.25 m"
    core_inner_diameter = "0.2 m"
    added_mass_frac = 1.0

    precooler_order = 1
    precooler_effectiveness = 0
    precooler_inlet_mach = 0.1

    intercooler_order = 2
    intercooler_effectiveness = 0
    intercooler_inlet_mach = 0.1

    regenerative_order = 4
    regenerative_effectiveness = 0.8
    regenerative_inlet_mach = 0.2

    turbine_cooler_order = 3
    turbine_cooler_effectiveness = 0
    turbine_cooler_inlet_mach = 0.02